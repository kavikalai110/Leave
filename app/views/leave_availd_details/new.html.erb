<center><h4>Apply Leaves</h4></center>
<br />
<%= form_tag(:controller => "leave_availd_details", :action => "create")%>
 <table>
 	<tr>
 		<td style="width: 140px">Leave Type</td>
 		<td><%#=collection_select(:post, :leave_type_id, LeaveType.all, :id,:name,:prompt=>true)%>
 			<%=select_tag "leave_type_id", options_from_collection_for_select(@leave_type, 'id', 'name'),:include_blank=>'Please select LeaveType'%>
 		</td>
 	</tr>
 	<tr>
 		<td>From Date</td>
 		<td><%=text_field_tag :datepicker %></td>
 	</tr>
 	<tr>
        <td>To Date</td>
        <td><%=text_field_tag :datepicker1 %></td>
    </tr>
         <td>Reasion</td>
         <td><%=text_field_tag :reasion%></td>
    <tr> 
    </tr>
 </table>
 <%=submit_tag 'Create',:onclick=>"return validation();"%>
    <script>
         $(document).ready(function () {
         $('input[id$=datepicker]').datepicker({ dateFormat: 'yy-mm-dd'}).val();
         $('input[id$=datepicker1]').datepicker({ dateFormat: 'yy-mm-dd'}).val();
    });
     function validation(){
        var leave = document.getElementById('leave_type_id').value;
     	var from = document.getElementById('datepicker').value;
     	var to = document.getElementById('datepicker1').value;
     	var reasion = document.getElementById('reasion').value;
     	var a =new Date(Date.parse(from))
     	var b = new Date(Date.parse(to))  
          if(leave==""){
            alert('Please select LeaveType')
            return false;
          }	
          if(from=="") {
             alert('Please select From Date')
             return false;
           } 
           if(to=="") {
           	 alert("Please select To Date")
     	  	 return false;
     	   }
     	    if(+b < +a){
             alert('From Date should less than To Date')
             return false;
     	   }
     	   if (reasion==""){
     	   	  alert('Please give reasion')
     	   	  return false;
     	   }

     	   	return true;
     	   
     }

    </script>
    